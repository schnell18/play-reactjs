# Introduction

This documents the problems encountered when exploring the ReactJS.

## React project start failure due to file watchers limit

Run `npm start` on a typical ReactJS project generated by `npx
create-react-app`, then you get error stack like:

	Starting the development server...

	events.js:291
		  throw er; // Unhandled 'error' event
		  ^

	Error: ENOSPC: System limit for number of file watchers reached, watch '/home/justin/work/explore/play-reactjs/tic-tac-toe/public'
		at FSWatcher.start (internal/fs/watchers.js:210:26)
		at Object.watch (fs.js:1444:11)
		at createFsWatchInstance (/home/justin/work/explore/play-reactjs/tic-tac-toe/node_modules/chokidar/lib/nodefs-handler.js:38:15)
		at setFsWatchListener (/home/justin/work/explore/play-reactjs/tic-tac-toe/node_modules/chokidar/lib/nodefs-handler.js:81:15)
		at FSWatcher.NodeFsHandler._watchWithNodeFs (/home/justin/work/explore/play-reactjs/tic-tac-toe/node_modules/chokidar/lib/nodefs-handler.js:233:14)
		at FSWatcher.NodeFsHandler._handleDir (/home/justin/work/explore/play-reactjs/tic-tac-toe/node_modules/chokidar/lib/nodefs-handler.js:429:19)
		at FSWatcher.<anonymous> (/home/justin/work/explore/play-reactjs/tic-tac-toe/node_modules/chokidar/lib/nodefs-handler.js:477:19)
		at FSWatcher.<anonymous> (/home/justin/work/explore/play-reactjs/tic-tac-toe/node_modules/chokidar/lib/nodefs-handler.js:482:16)
		at FSReqCallback.oncomplete (fs.js:169:5)
	Emitted 'error' event on FSWatcher instance at:
		at FSWatcher._handleError (/home/justin/work/explore/play-reactjs/tic-tac-toe/node_modules/chokidar/index.js:260:10)
		at createFsWatchInstance (/home/justin/work/explore/play-reactjs/tic-tac-toe/node_modules/chokidar/lib/nodefs-handler.js:40:5)
		at setFsWatchListener (/home/justin/work/explore/play-reactjs/tic-tac-toe/node_modules/chokidar/lib/nodefs-handler.js:81:15)
		[... lines matching original stack trace ...]
		at FSReqCallback.oncomplete (fs.js:169:5) {
	  errno: -28,
	  syscall: 'watch',
	  code: 'ENOSPC',
	  path: '/home/justin/work/explore/play-reactjs/tic-tac-toe/public',
	  filename: '/home/justin/work/explore/play-reactjs/tic-tac-toe/public'
	}

To check current file watchers limit, you use the `proc` file system as:

	cat /proc/sys/fs/inotify/max_user_watches

To work around the problem, you may set the limit sufficiently high as:

	echo fs.inotify.max_user_watches=524288 | sudo tee -a /etc/sysctl.conf && sudo sysctl -p
